{"pageProps":{"data":{"id":"ReactでGoogleカスタム検索を使う","content":"このまま貼り付けても表示されなかった。\n\n```html\n<script async src=\"https://cse.google.com/cse.js?cx=c961937a8b4f96e3d\"></script>\n<div class=\"gcse-search\"></div>\n```\n\n関数コンポーネントを作って対応した。\n\n```typescript\nconst SearchBox: React.FC = () => {\n  const searchBoxRef = React.createRef<HTMLDivElement>();\n  useEffect(() => {\n    if (searchBoxRef && searchBoxRef.current) {\n      const searchBox = searchBoxRef.current;\n      const parent = searchBox.parentNode;\n      const gcse = document.createElement(\"script\");\n      gcse.async = true;\n      gcse.src = \"https://cse.google.com/cse.js?cx=c961937a8b4f96e3d\";\n      parent?.insertBefore(gcse, searchBox);\n    }\n  });\n  return (\n    <div className=\"search-box\">\n      <div ref={searchBoxRef} className=\"gcse-search\"></div>\n    </div>\n  );\n};\n```\n\nvia [2021-03-03](/b/2021-03-03)\n","refLinks":["React"],"refBlogs":[],"links":["JavaScript","Next.js","SSG","好きなもの"]}},"__N_SSG":true}